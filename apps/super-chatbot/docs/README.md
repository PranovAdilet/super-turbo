# Super Chatbot - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

AI —á–∞—Ç-–±–æ—Ç —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–¥–∏–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

## üèóÔ∏è –°—Ç–∞—Ç—É—Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### ‚úÖ –§—Ä–µ–π–º–≤–æ—Ä–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–¥–∏–∞ (Production Ready)

**–û—Å–Ω–æ–≤–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ**: –£—Å–ø–µ—à–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–¥–∏–∞ —Å **—Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ–º –∫–æ–¥–∞ –Ω–∞ 94%** –∏ —É–ª—É—á—à–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å—é.

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å** (2025-01-27):

- üéØ **Production Tools**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞
- üõ°Ô∏è **Chat Generation**: Legacy —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è, –±–µ–∑–æ–ø–∞—Å–Ω–∞—è) —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞
- üöÄ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞
- üì¶ **–§—Ä–µ–π–º–≤–æ—Ä–∫**: –ü–æ–ª–Ω—ã–π —Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π/–≤–∏–¥–µ–æ, —Ö—É–∫–∞–º–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:

- –û—Ç 1,150+ —Å—Ç—Ä–æ–∫ –¥–æ 50 —Å—Ç—Ä–æ–∫ –Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (—Å –∞–¥–∞–ø—Ç–µ—Ä–æ–º)
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –º–µ–¥–∏–∞
- –õ—É—á—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞–º–∏
- –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –±—É–¥—É—â–∏—Ö —Ç–∏–ø–æ–≤ –º–µ–¥–∏–∞ (–∞—É–¥–∏–æ, —Ç–µ–∫—Å—Ç, 3D)

–°–º.: [–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏](./maintenance/changelog/production-migration-complete.md)

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

- [**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã**](./ARCHITECTURE.md) - –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- [**AI –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**](./AI_CAPABILITIES.md) - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –≤–∏–¥–µ–æ, —Ç–µ–∫—Å—Ç–∞ –∏ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- [**API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**](./API_INTEGRATION.md) - SuperDuperAI, Azure OpenAI, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [**–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**](./DEVELOPMENT.md) - AI-First –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è, AICODE —Å–∏—Å—Ç–µ–º–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ø–ª–æ–π

### üîß –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](./getting-started/environment-setup.md) - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±—ã—Å—Ç—Ä–æ–º—É —Å—Ç–∞—Ä—Ç—É](./getting-started/README.md) - –ë—ã—Å—Ç—Ä–æ–µ –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

#### AI –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- [–û–±–∑–æ—Ä AI](./ai-capabilities/overview.md) - AI —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- [–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π](./ai-capabilities/image-generation/) - –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ](./ai-capabilities/video-generation/) - –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ
- [–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞](./ai-capabilities/universal-context-system.md) - –°–∏—Å—Ç–µ–º–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

#### API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- [SuperDuperAI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](./api-integration/superduperai/README.md) - –û—Å–Ω–æ–≤–Ω–∞—è AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](./api-integration/superduperai/dynamic-integration.md) - –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ API –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π](./api-integration/superduperai/image-generation-api-guide.md) - –ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã cURL
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ API –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ](./api-integration/superduperai/video-generation-api-guide.md) - –ü–æ–ª–Ω—ã–π –≤–∏–¥–µ–æ API

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- [Media Generation Framework](./architecture/media-generation-framework.md) - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–¥–∏–∞
- [API Architecture](./architecture/api-architecture.md) - Backend API –¥–∏–∑–∞–π–Ω –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- [WebSocket Architecture](./architecture/websocket-architecture.md) - Real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
- [System Overview](./architecture/system-overview.md) - –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

#### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- [AI –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](./development/ai-development-methodology.md) - –î–≤—É—Ö—Ñ–∞–∑–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [Unified Tools Navigation System](./development/unified-tools-navigation-system.md) - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- [Implementation Plans](./development/implementation-plans/) - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [AICODE Examples](./development/aicode-examples.md) - –ü—Ä–∏–º–µ—Ä—ã AICODE –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [Video Generation](./ai-capabilities/video-generation/) - Video generation system with **Strategy Pattern + Fallback System** ‚≠ê
- [Prompt Enhancement](./ai-capabilities/prompt-enhancement/) - AI-powered prompt improvement system

### API Integration

- [SuperDuperAI Integration](./api-integration/superduperai/) - External API integration
- [SSE Implementation](./websockets-implementation/) - Real-time communication

### Maintenance & Changelog

- [Changelog Directory](./maintenance/changelog/) - Detailed change history
- [Maintenance Guide](./maintenance/README.md) - System maintenance procedures

### Reference

- [FAQ](./reference/faq.md) - Frequently asked questions
- [Glossary](./reference/glossary.md) - Technical terminology

## üöÄ Recent Major Updates

### Guest-to-Auth Transition Fix (2025-01-14)

- **Fixed infinite redirect loop** when users tried to transition from authenticated accounts to guest mode
- **Direct guest mode access** after logout instead of forced Auth0 redirect
- **Enhanced auto-login page** with `guest_mode` parameter support for explicit guest mode selection
- **Improved user experience** with seamless transition between authentication modes
- **Zero breaking changes** - all existing Auth0 flows preserved and backward compatible

See: [Guest-to-Auth Transition Fix](./maintenance/changelog/fix-guest-to-auth-transition.md)

### Artifact Share Links (2025-01-15)

- **Direct sharing capability** for all artifact types (image, text, video, spreadsheet)
- **Standalone artifact viewer** at `/artifact/[id]` route for shared links
- **Share button integration** in artifact action bars for easy link copying
- **Secure access control** with authentication checks
- **Consistent display** using existing artifact components
- **Simple navigation** with "Back to Chat" functionality

See: [Artifact Share Links Implementation](./maintenance/changelog/artifact-share-links.md)

### Image Artifact Debug Parameters (2025-01-15)

- **Debug parameters display** in collapsible section for image artifacts
- **All generation parameters visible** including prompt, model, resolution, style, etc.
- **Copy parameters as JSON** for easy debugging and sharing
- **Clean UI design** with debug info hidden by default
- **Improved Generate New Image button** - always visible at the bottom

See: [Debug Parameters Display](./maintenance/changelog/image-artifact-debug-parameters.md)

### Enhanced Textarea with Unlimited Prompts (2025-01-28)

- **Removed all prompt length limitations** (was 2000 characters, now unlimited)
- **Real-time character/token counting** with approximate token estimation
- **Fullscreen editing mode** for complex prompt engineering
- **Universal implementation** across all forms (video, image, chat, media settings)
- **Professional workflow support** for AI-first development methodology
- **Responsive design** with accessibility features and keyboard navigation

### Video Model Selection Enhancement (2025-01-28)

- **Fixed Sora prioritization** for text-to-video generation
- **Smart model selection** prioritizes text_to_video over image_to_video models
- **Enhanced default model priority** with Sora as top choice for VIP users
- **Resolved ComfyUI errors** by selecting appropriate model types for text prompts
- **Fixed LTX model fallback issue** that caused `'str' object has no attribute 'read'` errors
- **Added `requireTextToVideo` parameter** to force text-to-video model selection
- **Enhanced API route logic** with automatic generation type detection

### Media Generation Framework (2025-01-27)

- **Complete architecture implementation** with image and video generators
- **Production migration** for tools with 94% code reduction
- **Optional chat integration** with safety fallbacks
- **Universal React hooks** and components for any media type
- **Template Method pattern** for consistent workflows
- **Factory pattern** for extensible generator creation

### Key Technical Achievements

- **BaseMediaGenerator** abstract class with unified workflow
- **MediaGeneratorFactory** singleton with registration system
- **Legacy compatibility layers** for seamless migration
- **Smart polling integration** with 7-minute timeout protection
- **Comprehensive TypeScript support** with type-safe interfaces

## üéØ Framework Architecture

### Core Components

```
lib/media-generation/
‚îú‚îÄ‚îÄ core/base-generator.ts        # Abstract base class (400+ lines)
‚îú‚îÄ‚îÄ factory/generator-factory.ts  # Factory pattern (200+ lines)
‚îú‚îÄ‚îÄ generators/
‚îÇ   ‚îú‚îÄ‚îÄ image-generator.ts        # Image-specific implementation
‚îÇ   ‚îî‚îÄ‚îÄ video-generator.ts        # Video-specific implementation
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ use-media-generator.ts    # Universal React hook
‚îÇ   ‚îî‚îÄ‚îÄ use-*-convenience.ts      # Convenience hooks
‚îî‚îÄ‚îÄ components/
    ‚îî‚îÄ‚îÄ media-generator-form.tsx  # Universal form component
```

### Usage Examples

```typescript
// Get any generator from factory
const generator = MediaGeneratorFactory.getInstance().create("image");

// Generate with unified workflow
const result = await generator.generate({
  prompt: "A beautiful sunset",
  settings: { model, resolution, style, shotSize },
  chatId: "chat_123",
});

// Universal React hook
const { generateImage, isGenerating, progress } = useMediaGenerator("image");
```

## üîß Migration Status

### Production Ready ‚úÖ

- **Image Generator Tool**: Using framework architecture
- **Video Generator Tool**: Using framework architecture
- **Legacy Compatibility**: 100% maintained with adapters
- **Safety Mechanisms**: Comprehensive fallbacks implemented

### Optional Integration üîÑ

- **Chat Image Generation**: Framework ready, legacy active
- **Chat Video Generation**: Framework ready, legacy active
- **Activation**: Controlled by feature flags for safe rollout

## üìà Performance Impact

### Tools Improvement

- **Code Reduction**: 94% (1,150+ ‚Üí 50 lines per tool)
- **Development Speed**: Significantly faster feature addition
- **Maintainability**: Single source of truth for media generation
- **Error Handling**: Centralized and more robust

### User Experience

- **Consistency**: Unified behavior across all media types
- **Reliability**: Better timeout and error recovery
- **Progress Tracking**: Enhanced real-time feedback
- **Performance**: Optimized API calls and resource management

## üõ†Ô∏è Development Guidelines

### AI-First Development

- **Two-Phase Process**: Planning ‚Üí Implementation
- **AICODE Comments**: Persistent memory for AI agents
- **Implementation Plans**: Structured approach with templates
- **Template Approval**: Review process for major changes

### Code Standards

- **TypeScript**: Comprehensive type safety
- **React Patterns**: Hooks and component composition
- **Error Handling**: Graceful degradation and recovery
- **Testing**: Component and integration testing

## üîç Quick Links

### For Developers

- [AI Development Methodology](./development/ai-development-methodology.md)
- [Media Generation Framework](./architecture/media-generation-framework.md)
- [Implementation Plans](./development/implementation-plans/)

### For Operations

- [Environment Setup](./getting-started/environment-setup.md)
- [Maintenance Guide](./maintenance/README.md)
- [Migration Completion](./maintenance/changelog/production-migration-complete.md)

### For Users

- [AI Capabilities Overview](./ai-capabilities/overview.md)
- [FAQ](./reference/faq.md)
- [Troubleshooting](./ai-capabilities/image-generation/troubleshooting.md)

---

**Documentation maintained by AI agents following the [AI-First Development Methodology](./development/ai-development-methodology.md)**

_Last Updated: 2025-01-27 - Production Migration Complete_
