{"version":3,"sources":["../src/index.ts","../src/utils/format.ts","../src/utils/validation.ts","../src/hooks/use-debounce.ts","../src/hooks/use-local-storage.ts","../src/hooks/use-media-query.ts","../src/hooks/use-click-outside.ts","../src/payment/stripe-config.ts","../src/payment/use-stripe-prices.ts","../src/payment/stripe-payment-button.tsx"],"sourcesContent":["export * from \"./utils/format\";\r\nexport * from \"./utils/validation\";\r\nexport * from \"./hooks/use-debounce\";\r\nexport * from \"./hooks/use-local-storage\";\r\nexport * from \"./hooks/use-media-query\";\r\nexport * from \"./hooks/use-click-outside\";\r\n\r\n// Платежные компоненты\r\nexport * from \"./payment\";\r\n","// Форматирование дат\r\nexport function formatDate(\r\n  date: Date | string,\r\n  options?: Intl.DateTimeFormatOptions\r\n): string {\r\n  const dateObj = typeof date === \"string\" ? new Date(date) : date;\r\n  const defaultOptions: Intl.DateTimeFormatOptions = {\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n    ...options,\r\n  };\r\n  return dateObj.toLocaleDateString(\"ru-RU\", defaultOptions);\r\n}\r\n\r\nexport function formatDateTime(date: Date | string): string {\r\n  const dateObj = typeof date === \"string\" ? new Date(date) : date;\r\n  return dateObj.toLocaleString(\"ru-RU\", {\r\n    year: \"numeric\",\r\n    month: \"2-digit\",\r\n    day: \"2-digit\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n}\r\n\r\nexport function formatRelativeTime(date: Date | string): string {\r\n  const dateObj = typeof date === \"string\" ? new Date(date) : date;\r\n  const now = new Date();\r\n  const diffInSeconds = Math.floor((now.getTime() - dateObj.getTime()) / 1000);\r\n\r\n  if (diffInSeconds < 60) {\r\n    return \"только что\";\r\n  }\r\n\r\n  const diffInMinutes = Math.floor(diffInSeconds / 60);\r\n  if (diffInMinutes < 60) {\r\n    return `${diffInMinutes} мин. назад`;\r\n  }\r\n\r\n  const diffInHours = Math.floor(diffInMinutes / 60);\r\n  if (diffInHours < 24) {\r\n    return `${diffInHours} ч. назад`;\r\n  }\r\n\r\n  const diffInDays = Math.floor(diffInHours / 24);\r\n  if (diffInDays < 7) {\r\n    return `${diffInDays} дн. назад`;\r\n  }\r\n\r\n  return formatDate(dateObj);\r\n}\r\n\r\n// Форматирование чисел\r\nexport function formatNumber(\r\n  num: number,\r\n  options?: Intl.NumberFormatOptions\r\n): string {\r\n  const defaultOptions: Intl.NumberFormatOptions = {\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 2,\r\n    ...options,\r\n  };\r\n  return num.toLocaleString(\"ru-RU\", defaultOptions);\r\n}\r\n\r\nexport function formatFileSize(bytes: number): string {\r\n  if (bytes === 0) return \"0 Б\";\r\n\r\n  const k = 1024;\r\n  const sizes = [\"Б\", \"КБ\", \"МБ\", \"ГБ\", \"ТБ\"];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(2))} ${sizes[i]}`;\r\n}\r\n\r\nexport function formatDuration(seconds: number): string {\r\n  if (seconds < 60) {\r\n    return `${Math.floor(seconds)}с`;\r\n  }\r\n\r\n  const minutes = Math.floor(seconds / 60);\r\n  const remainingSeconds = Math.floor(seconds % 60);\r\n\r\n  if (minutes < 60) {\r\n    return `${minutes}м ${remainingSeconds}с`;\r\n  }\r\n\r\n  const hours = Math.floor(minutes / 60);\r\n  const remainingMinutes = minutes % 60;\r\n\r\n  return `${hours}ч ${remainingMinutes}м`;\r\n}\r\n\r\n// Форматирование текста\r\nexport function truncateText(\r\n  text: string,\r\n  maxLength: number,\r\n  suffix = \"...\"\r\n): string {\r\n  if (text.length <= maxLength) return text;\r\n  return text.slice(0, maxLength - suffix.length) + suffix;\r\n}\r\n\r\nexport function capitalizeFirst(text: string): string {\r\n  return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n\r\nexport function slugify(text: string): string {\r\n  return text\r\n    .toLowerCase()\r\n    .replace(/[^\\w\\s-]/g, \"\")\r\n    .replace(/[\\s_-]+/g, \"-\")\r\n    .replace(/^-+|-+$/g, \"\");\r\n}\r\n\r\n// Форматирование валюты\r\nexport function formatCurrency(amount: number, currency = \"RUB\"): string {\r\n  return new Intl.NumberFormat(\"ru-RU\", {\r\n    style: \"currency\",\r\n    currency,\r\n  }).format(amount);\r\n}\r\n\r\n// Форматирование процентов\r\nexport function formatPercentage(value: number, decimals = 1): string {\r\n  return `${(value * 100).toFixed(decimals)}%`;\r\n}\r\n","/**\r\n * Проверяет, является ли строка валидным email\r\n */\r\nexport function isValidEmail(email: string): boolean {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email);\r\n}\r\n\r\n/**\r\n * Проверяет силу пароля\r\n */\r\nexport function isStrongPassword(password: string): boolean {\r\n  // Минимум 8 символов, содержит буквы и цифры\r\n  const passwordRegex = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d@$!%*#?&]{8,}$/;\r\n  return passwordRegex.test(password);\r\n}\r\n\r\n/**\r\n * Проверяет, является ли строка валидным URL\r\n */\r\nexport function isValidUrl(url: string): boolean {\r\n  try {\r\n    new URL(url);\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\n// Валидация телефона\r\nexport function isValidPhone(phone: string): boolean {\r\n  const phoneRegex = /^[\\+]?[1-9][\\d]{0,15}$/;\r\n  return phoneRegex.test(phone.replace(/\\s/g, \"\"));\r\n}\r\n\r\n// Валидация пароля\r\nexport function isValidPassword(password: string): {\r\n  isValid: boolean;\r\n  errors: string[];\r\n} {\r\n  const errors: string[] = [];\r\n\r\n  if (password.length < 8) {\r\n    errors.push(\"Пароль должен содержать минимум 8 символов\");\r\n  }\r\n\r\n  if (!/[A-Z]/.test(password)) {\r\n    errors.push(\"Пароль должен содержать заглавную букву\");\r\n  }\r\n\r\n  if (!/[a-z]/.test(password)) {\r\n    errors.push(\"Пароль должен содержать строчную букву\");\r\n  }\r\n\r\n  if (!/\\d/.test(password)) {\r\n    errors.push(\"Пароль должен содержать цифру\");\r\n  }\r\n\r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors,\r\n  };\r\n}\r\n\r\n// Валидация размера файла\r\nexport function isValidFileSize(fileSize: number, maxSize: number): boolean {\r\n  return fileSize <= maxSize;\r\n}\r\n\r\n// Валидация типа файла\r\nexport function isValidFileType(\r\n  fileName: string,\r\n  allowedTypes: string[]\r\n): boolean {\r\n  const extension = fileName.split(\".\").pop()?.toLowerCase();\r\n  return extension ? allowedTypes.includes(extension) : false;\r\n}\r\n\r\n// Валидация длины текста\r\nexport function isValidTextLength(\r\n  text: string,\r\n  minLength: number,\r\n  maxLength: number\r\n): boolean {\r\n  return text.length >= minLength && text.length <= maxLength;\r\n}\r\n\r\n// Валидация обязательных полей\r\nexport function validateRequired(value: any, fieldName: string): string | null {\r\n  if (value === null || value === undefined || value === \"\") {\r\n    return `${fieldName} обязателен`;\r\n  }\r\n  return null;\r\n}\r\n\r\n// Валидация объекта\r\nexport function validateObject<T extends Record<string, any>>(\r\n  obj: T,\r\n  validators: Record<keyof T, (value: any) => string | null>\r\n): Record<keyof T, string | null> {\r\n  const errors: Record<keyof T, string | null> = {} as Record<\r\n    keyof T,\r\n    string | null\r\n  >;\r\n\r\n  for (const [key, validator] of Object.entries(validators)) {\r\n    errors[key as keyof T] = validator(obj[key as keyof T]);\r\n  }\r\n\r\n  return errors;\r\n}\r\n\r\n// Проверка наличия ошибок\r\nexport function hasErrors(errors: Record<string, string | null>): boolean {\r\n  return Object.values(errors).some((error) => error !== null);\r\n}\r\n\r\n// Валидация ID\r\nexport function isValidId(id: string): boolean {\r\n  return /^[a-zA-Z0-9-_]+$/.test(id) && id.length > 0;\r\n}\r\n\r\n// Валидация UUID\r\nexport function isValidUUID(uuid: string): boolean {\r\n  const uuidRegex =\r\n    /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\r\n  return uuidRegex.test(uuid);\r\n}\r\n\r\n// Валидация даты\r\nexport function isValidDate(date: string): boolean {\r\n  const dateObj = new Date(date);\r\n  return !isNaN(dateObj.getTime());\r\n}\r\n\r\n// Валидация числа в диапазоне\r\nexport function isValidNumberRange(\r\n  value: number,\r\n  min: number,\r\n  max: number\r\n): boolean {\r\n  return value >= min && value <= max;\r\n}\r\n\r\n// Валидация массива\r\nexport function isValidArray<T>(\r\n  array: T[],\r\n  minLength = 0,\r\n  maxLength?: number\r\n): boolean {\r\n  if (!Array.isArray(array)) return false;\r\n  if (array.length < minLength) return false;\r\n  if (maxLength && array.length > maxLength) return false;\r\n  return true;\r\n}\r\n","\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\n/**\r\n * Хук для дебаунса значения\r\n */\r\nexport function useDebounce<T>(value: T, delay: number): T {\r\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\r\n\r\n  useEffect(() => {\r\n    const handler = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(handler);\r\n    };\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport function useLocalStorage<T>(key: string, initialValue: T) {\r\n  // Получаем значение из localStorage или используем начальное значение\r\n  const [storedValue, setStoredValue] = useState<T>(() => {\r\n    if (typeof window === \"undefined\") {\r\n      return initialValue;\r\n    }\r\n\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.error(`Error reading localStorage key \"${key}\":`, error);\r\n      return initialValue;\r\n    }\r\n  });\r\n\r\n  // Функция для установки значения\r\n  const setValue = (value: T | ((val: T) => T)) => {\r\n    try {\r\n      // Позволяем value быть функцией, чтобы у нас была та же API, что и useState\r\n      const valueToStore =\r\n        value instanceof Function ? value(storedValue) : value;\r\n      setStoredValue(valueToStore);\r\n\r\n      // Сохраняем в localStorage\r\n      if (typeof window !== \"undefined\") {\r\n        window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error setting localStorage key \"${key}\":`, error);\r\n    }\r\n  };\r\n\r\n  // Удаляем значение из localStorage\r\n  const removeValue = () => {\r\n    try {\r\n      setStoredValue(initialValue);\r\n      if (typeof window !== \"undefined\") {\r\n        window.localStorage.removeItem(key);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error removing localStorage key \"${key}\":`, error);\r\n    }\r\n  };\r\n\r\n  return [storedValue, setValue, removeValue] as const;\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport function useMediaQuery(query: string): boolean {\r\n  const [matches, setMatches] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n\r\n    const media = window.matchMedia(query);\r\n\r\n    // Устанавливаем начальное значение\r\n    setMatches(media.matches);\r\n\r\n    // Создаем функцию-обработчик\r\n    const listener = (event: MediaQueryListEvent) => {\r\n      setMatches(event.matches);\r\n    };\r\n\r\n    // Добавляем слушатель\r\n    media.addEventListener(\"change\", listener);\r\n\r\n    // Очищаем слушатель при размонтировании\r\n    return () => media.removeEventListener(\"change\", listener);\r\n  }, [query]);\r\n\r\n  return matches;\r\n}\r\n\r\n// Предопределенные медиа-запросы\r\nexport const useIsMobile = () => useMediaQuery(\"(max-width: 768px)\");\r\nexport const useIsTablet = () =>\r\n  useMediaQuery(\"(min-width: 769px) and (max-width: 1024px)\");\r\nexport const useIsDesktop = () => useMediaQuery(\"(min-width: 1025px)\");\r\nexport const useIsDarkMode = () =>\r\n  useMediaQuery(\"(prefers-color-scheme: dark)\");\r\nexport const useIsReducedMotion = () =>\r\n  useMediaQuery(\"(prefers-reduced-motion: reduce)\");\r\n","\"use client\";\r\n\r\nimport { useEffect, RefObject } from \"react\";\r\n\r\nexport function useClickOutside<T extends HTMLElement = HTMLElement>(\r\n  ref: RefObject<T>,\r\n  handler: (event: MouseEvent | TouchEvent) => void\r\n) {\r\n  useEffect(() => {\r\n    const listener = (event: MouseEvent | TouchEvent) => {\r\n      const el = ref?.current;\r\n\r\n      // Не выполняем обработчик, если клик был внутри элемента\r\n      if (!el || el.contains((event?.target as Node) || null)) {\r\n        return;\r\n      }\r\n\r\n      handler(event);\r\n    };\r\n\r\n    // Добавляем слушатели событий\r\n    document.addEventListener(\"mousedown\", listener);\r\n    document.addEventListener(\"touchstart\", listener);\r\n\r\n    // Очищаем слушатели при размонтировании\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", listener);\r\n      document.removeEventListener(\"touchstart\", listener);\r\n    };\r\n  }, [ref, handler]);\r\n}\r\n","/**\r\n * Общая конфигурация Stripe для turbo-super\r\n * Автоматически выбирает правильные цены на основе окружения\r\n */\r\n\r\nexport interface StripePrices {\r\n  single: string;\r\n  triple: string;\r\n}\r\n\r\nexport interface StripeConfig {\r\n  prices: StripePrices;\r\n  mode: \"live\" | \"test\";\r\n}\r\n\r\nexport const STRIPE_PRICES = {\r\n  // Production prices (live mode)\r\n  production: {\r\n    single: \"price_1Rkse5K9tHMoWhKiQ0tg0b2N\", // $1.00 for 1 video\r\n    triple: \"price_1Rkse7K9tHMoWhKise2iYOXL\", // $2.00 for 3 videos\r\n  },\r\n  // Test prices (test mode)\r\n  test: {\r\n    single: \"price_1RktnoK9tHMoWhKim5uqXiAe\", // $1.00 for 1 video (TEST)\r\n    triple: \"price_1Rkto1K9tHMoWhKinvpEwntH\", // $2.00 for 3 videos (TEST)\r\n  },\r\n};\r\n\r\n// Auto-select prices based on environment\r\nexport const getCurrentPrices = (): StripePrices => {\r\n  const isLiveMode = process.env.STRIPE_SECRET_KEY?.startsWith(\"sk_live_\");\r\n\r\n  if (isLiveMode) {\r\n    return STRIPE_PRICES.production;\r\n  }\r\n  return STRIPE_PRICES.test;\r\n};\r\n\r\n// Helper functions\r\nexport const getSingleVideoPrice = (): string => getCurrentPrices().single;\r\nexport const getTripleVideoPrice = (): string => getCurrentPrices().triple;\r\n\r\n// Export current prices for easy access\r\nexport const CURRENT_PRICES = getCurrentPrices();\r\n\r\n// Get current mode\r\nexport const getCurrentMode = (): \"live\" | \"test\" => {\r\n  const isLiveMode = process.env.STRIPE_SECRET_KEY?.startsWith(\"sk_live_\");\r\n  return isLiveMode ? \"live\" : \"test\";\r\n};\r\n\r\n// Get full config\r\nexport const getStripeConfig = (): StripeConfig => ({\r\n  prices: getCurrentPrices(),\r\n  mode: getCurrentMode(),\r\n});\r\n\r\n// Log current configuration in development\r\nif (process.env.NODE_ENV === \"development\") {\r\n  console.log(\"🏪 Stripe Configuration:\", {\r\n    isLiveMode: getCurrentMode() === \"live\",\r\n    currentPrices: CURRENT_PRICES,\r\n    mode: getCurrentMode(),\r\n  });\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport type { StripePrices, StripeConfig } from \"./stripe-config\";\r\n\r\ninterface StripePricesResponse {\r\n  success: boolean;\r\n  prices: StripePrices;\r\n  mode: \"live\" | \"test\";\r\n}\r\n\r\nexport function useStripePrices(apiEndpoint = \"/api/stripe-prices\") {\r\n  const [prices, setPrices] = useState<StripePrices | null>(null);\r\n  const [mode, setMode] = useState<\"live\" | \"test\">(\"test\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchPrices = async () => {\r\n      try {\r\n        const response = await fetch(apiEndpoint);\r\n        const data: StripePricesResponse = await response.json();\r\n\r\n        if (data.success) {\r\n          setPrices(data.prices);\r\n          setMode(data.mode);\r\n        } else {\r\n          setError(\"Failed to fetch prices\");\r\n        }\r\n      } catch (err) {\r\n        setError(\"Network error\");\r\n        console.error(\"Error fetching Stripe prices:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPrices();\r\n  }, [apiEndpoint]);\r\n\r\n  return { prices, mode, loading, error };\r\n}\r\n\r\nexport function useStripeConfig(\r\n  apiEndpoint = \"/api/stripe-prices\"\r\n): StripeConfig | null {\r\n  const { prices, mode, loading, error } = useStripePrices(apiEndpoint);\r\n\r\n  if (loading || error || !prices) {\r\n    return null;\r\n  }\r\n\r\n  return { prices, mode };\r\n}\r\n","\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  CardTitle,\r\n  Badge,\r\n} from \"@turbo-super/ui\";\r\nimport { ExternalLink, Zap, Video, Loader2, CreditCard } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { useStripePrices } from \"./use-stripe-prices\";\r\n\r\ninterface StripePaymentButtonProps {\r\n  prompt?: string;\r\n  onPaymentClick?: () => void;\r\n  toolSlug?: string;\r\n  toolTitle?: string;\r\n  variant?: \"video\" | \"credits\";\r\n  creditAmount?: number;\r\n  price?: number;\r\n  apiEndpoint?: string;\r\n  checkoutEndpoint?: string;\r\n  className?: string;\r\n  locale?: string;\r\n  t?: (key: string, params?: Record<string, string | number>) => string;\r\n}\r\n\r\nexport function StripePaymentButton({\r\n  prompt,\r\n  onPaymentClick,\r\n  toolSlug,\r\n  toolTitle,\r\n  variant = \"video\",\r\n  creditAmount = 100,\r\n  price = 1.0,\r\n  apiEndpoint = \"/api/stripe-prices\",\r\n  checkoutEndpoint = \"/api/create-checkout\",\r\n  className,\r\n  locale = \"en\",\r\n  t,\r\n}: StripePaymentButtonProps) {\r\n  const [isCreatingCheckout, setIsCreatingCheckout] = useState(false);\r\n  const { prices, mode, loading, error } = useStripePrices(apiEndpoint);\r\n\r\n  // Функция для получения перевода с поддержкой параметров\r\n  const getTranslation = (\r\n    key: string,\r\n    params?: Record<string, string | number>\r\n  ) => {\r\n    if (!t) {\r\n      // Fallback переводы если функция t не предоставлена\r\n      const fallbackTranslations: Record<string, string> = {\r\n        \"stripe_payment.loading_payment_options\": \"Loading payment options...\",\r\n        \"stripe_payment.failed_load_payment\": \"Failed to load payment options\",\r\n        \"stripe_payment.top_up_balance\": \"Top Up Balance\",\r\n        \"stripe_payment.generate_veo3_videos\": \"Generate VEO3 Videos\",\r\n        \"stripe_payment.top_up_balance_desc\": `Top up your balance with ${creditAmount} credits for using AI tools`,\r\n        \"stripe_payment.generate_video_desc\":\r\n          \"Your prompt is ready! Choose a plan to generate professional AI videos with Google VEO3.\",\r\n        \"stripe_payment.top_up_credits\": `Top up ${creditAmount} credits`,\r\n        \"stripe_payment.generate_video\": \"Generate Video\",\r\n        \"stripe_payment.get_credits_desc\": `Get ${creditAmount} credits for generating images, videos and scripts`,\r\n        \"stripe_payment.generate_video_desc_short\":\r\n          \"Generate 1 high-quality AI video with your custom prompt\",\r\n        \"stripe_payment.creating_payment\": \"Creating Payment...\",\r\n        \"stripe_payment.top_up_for\": `Top up for $${price.toFixed(2)}`,\r\n        \"stripe_payment.generate_for\": `Generate Video for $${price.toFixed(2)}`,\r\n        \"stripe_payment.instant_access\":\r\n          \"✓ Instant access • ✓ No subscription • ✓ Secure Stripe payment\",\r\n        \"stripe_payment.test_mode\":\r\n          \"🧪 Test mode - Use test card 4242 4242 4242 4242\",\r\n        \"stripe_payment.generate_prompt_first\":\r\n          \"Please generate a prompt first\",\r\n        \"stripe_payment.prices_not_loaded\":\r\n          \"Prices not loaded yet, please try again\",\r\n        \"stripe_payment.failed_create_checkout\":\r\n          \"Failed to create checkout session\",\r\n      };\r\n      return fallbackTranslations[key] || key;\r\n    }\r\n\r\n    let translation = t(key);\r\n\r\n    // Заменяем параметры в переводе\r\n    if (params) {\r\n      Object.entries(params).forEach(([param, value]) => {\r\n        translation = translation.replace(`{${param}}`, String(value));\r\n      });\r\n    }\r\n\r\n    return translation;\r\n  };\r\n\r\n  const handlePayment = async () => {\r\n    if (variant === \"video\" && !prompt?.trim()) {\r\n      toast.error(getTranslation(\"stripe_payment.generate_prompt_first\"));\r\n      return;\r\n    }\r\n\r\n    if (!prices) {\r\n      toast.error(getTranslation(\"stripe_payment.prices_not_loaded\"));\r\n      return;\r\n    }\r\n\r\n    setIsCreatingCheckout(true);\r\n    onPaymentClick?.();\r\n\r\n    try {\r\n      const response = await fetch(checkoutEndpoint, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          priceId: prices.single,\r\n          quantity: 1,\r\n          prompt: prompt?.trim(),\r\n          toolSlug: toolSlug,\r\n          toolTitle: toolTitle,\r\n          creditAmount: variant === \"credits\" ? creditAmount : undefined,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to create checkout session\");\r\n      }\r\n\r\n      const { url } = await response.json();\r\n\r\n      // Redirect directly to Stripe\r\n      window.location.href = url;\r\n    } catch (error) {\r\n      console.error(\"❌ Checkout creation failed:\", error);\r\n      toast.error(getTranslation(\"stripe_payment.failed_create_checkout\"));\r\n    } finally {\r\n      setIsCreatingCheckout(false);\r\n    }\r\n  };\r\n\r\n  if (variant === \"video\" && !prompt?.trim()) {\r\n    return null;\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card\r\n        className={`border-2 border-purple-500/50 bg-gradient-to-r from-purple-50/80 to-blue-50/80 dark:from-purple-950/30 dark:to-blue-950/30 dark:border-purple-400/30 ${className}`}\r\n      >\r\n        <CardContent className=\"flex items-center justify-center py-8\">\r\n          <Loader2 className=\"size-6 animate-spin mr-2\" />\r\n          <span>\r\n            {getTranslation(\"stripe_payment.loading_payment_options\")}\r\n          </span>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (error || !prices) {\r\n    return (\r\n      <Card\r\n        className={`border-2 border-red-500/50 bg-gradient-to-r from-red-50/80 to-orange-50/80 dark:from-red-950/30 dark:to-orange-950/30 dark:border-red-400/30 ${className}`}\r\n      >\r\n        <CardContent className=\"flex items-center justify-center py-8\">\r\n          <span className=\"text-red-600 dark:text-red-400\">\r\n            {error || getTranslation(\"stripe_payment.failed_load_payment\")}\r\n          </span>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const isCreditsVariant = variant === \"credits\";\r\n\r\n  return (\r\n    <Card\r\n      className={`border-2 border-purple-500/50 bg-gradient-to-r from-purple-50/80 to-blue-50/80 dark:from-purple-950/30 dark:to-blue-950/30 dark:border-purple-400/30 ${className}`}\r\n    >\r\n      <CardHeader className=\"pb-3\">\r\n        <CardTitle className=\"flex items-center gap-2 text-lg\">\r\n          <Zap className=\"size-5 text-yellow-500 dark:text-yellow-400\" />\r\n          {isCreditsVariant\r\n            ? getTranslation(\"stripe_payment.top_up_balance\")\r\n            : getTranslation(\"stripe_payment.generate_veo3_videos\")}\r\n        </CardTitle>\r\n        <p className=\"text-sm text-muted-foreground\">\r\n          {isCreditsVariant\r\n            ? getTranslation(\"stripe_payment.top_up_balance_desc\", {\r\n                amount: creditAmount,\r\n              })\r\n            : getTranslation(\"stripe_payment.generate_video_desc\")}\r\n        </p>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-3\">\r\n        <div className=\"max-w-md mx-auto\">\r\n          {/* Payment Option */}\r\n          <div className=\"p-6 border-2 border-blue-200 dark:border-blue-700/50 rounded-lg bg-blue-50/50 dark:bg-blue-950/20 hover:bg-blue-50 dark:hover:bg-blue-950/30 transition-colors text-center\">\r\n            <div className=\"flex items-center justify-center gap-2 mb-3\">\r\n              {isCreditsVariant ? (\r\n                <CreditCard className=\"size-5 text-blue-500 dark:text-blue-400\" />\r\n              ) : (\r\n                <Video className=\"size-5 text-blue-500 dark:text-blue-400\" />\r\n              )}\r\n              <span className=\"font-semibold text-lg\">\r\n                {isCreditsVariant\r\n                  ? getTranslation(\"stripe_payment.top_up_credits\", {\r\n                      amount: creditAmount,\r\n                    })\r\n                  : getTranslation(\"stripe_payment.generate_video\")}\r\n              </span>\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <Badge\r\n                variant=\"outline\"\r\n                className=\"bg-blue-600 dark:bg-blue-500 text-white text-lg px-4 py-1\"\r\n              >\r\n                ${price.toFixed(2)}\r\n              </Badge>\r\n            </div>\r\n            <p className=\"text-sm text-muted-foreground mb-4\">\r\n              {isCreditsVariant\r\n                ? getTranslation(\"stripe_payment.get_credits_desc\", {\r\n                    amount: creditAmount,\r\n                  })\r\n                : getTranslation(\"stripe_payment.generate_video_desc_short\")}\r\n            </p>\r\n            <Button\r\n              onClick={handlePayment}\r\n              className=\"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white\"\r\n              size=\"lg\"\r\n              disabled={isCreatingCheckout}\r\n            >\r\n              {isCreatingCheckout ? (\r\n                <>\r\n                  <Loader2 className=\"size-5 mr-2 animate-spin\" />\r\n                  {getTranslation(\"stripe_payment.creating_payment\")}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <ExternalLink className=\"size-5 mr-2\" />\r\n                  {isCreditsVariant\r\n                    ? getTranslation(\"stripe_payment.top_up_for\", {\r\n                        price: price.toFixed(2),\r\n                      })\r\n                    : getTranslation(\"stripe_payment.generate_for\", {\r\n                        price: price.toFixed(2),\r\n                      })}\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"text-xs text-muted-foreground text-center pt-2 border-t\">\r\n          <p>{getTranslation(\"stripe_payment.instant_access\")}</p>\r\n          {mode === \"test\" && (\r\n            <p className=\"text-yellow-600 dark:text-yellow-400 mt-1\">\r\n              {getTranslation(\"stripe_payment.test_mode\")}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"mappings":"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","names":["import_react","import_react","import_react","import_react","import_react","error"]}