# –û—Ç—á–µ—Ç –æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ Best Practices

**–î–∞—Ç–∞:** 2024-01-25  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–¶–µ–ª—å:** –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫–æ–¥–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üö® –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **‚ùå –°–º–µ—à–∏–≤–∞–Ω–∏–µ CommonJS –∏ ES6 –º–æ–¥—É–ª–µ–π**

```typescript
// ‚ùå –ü–õ–û–•–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ require() –≤ ES6 –ø—Ä–æ–µ–∫—Ç–µ
const { semanticIndex } = require("../context/semantic-index");

// ‚úÖ –•–û–†–û–®–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ES6 imports
import { semanticIndex } from "../context/semantic-index";
```

**–ü—Ä–æ–±–ª–µ–º—ã:**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
- –ü—Ä–æ–±–ª–µ–º—ã —Å tree-shaking –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
- –°–º–µ—à–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∏ –Ω–æ–≤—ã—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤

### 2. **‚ùå –ñ–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –∫–æ–¥–µ**

```typescript
// ‚ùå –ü–õ–û–•–û: –•–∞—Ä–¥–∫–æ–¥ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
if (keywordLower === "–Ω–æ—á–Ω–æ–π" && fileNameLower.includes("nochnoj")) {
  return true;
}
if (keywordLower === "–ª—É–Ω–∞" && fileNameLower.includes("luna")) {
  return true;
}

// ‚úÖ –•–û–†–û–®–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Å–∏–Ω–æ–Ω–∏–º–æ–≤
const synonyms = semanticIndex.findSynonyms(keywordLower);
const hasSynonymMatch = synonyms.some((synonym) =>
  fileNameLower.includes(synonym.toLowerCase())
);
```

**–ü—Ä–æ–±–ª–µ–º—ã:**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ DRY (Don't Repeat Yourself)
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏

### 3. **‚ùå –ü–ª–æ—Ö–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è**

```typescript
// ‚ùå –ü–õ–û–•–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ any —Ç–∏–ø–æ–≤
currentMessageAttachments?: any[]
const attachments = msg.attachments as any[];

// ‚úÖ –•–û–†–û–®–û: –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
interface MessageAttachment {
  url?: string;
  contentType?: string;
  name?: string;
  id?: string;
}
currentMessageAttachments?: MessageAttachment[]
const attachments = msg.attachments as MessageAttachment[];
```

**–ü—Ä–æ–±–ª–µ–º—ã:**

- –ü–æ—Ç–µ—Ä—è type safety
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤ IDE

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã**

- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `require()` –Ω–∞ ES6 `import`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –û–±–µ—Å–ø–µ—á–µ–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

### 2. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞**

- ‚úÖ –£–±—Ä–∞–Ω—ã –∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–∏–Ω–æ–Ω–∏–º–æ–≤
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω –ø—Ä–∏–Ω—Ü–∏–ø DRY

### 3. **–£–ª—É—á—à–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏**

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `MessageAttachment`
- ‚úÖ –£–±—Ä–∞–Ω—ã –≤—Å–µ `any` —Ç–∏–ø—ã
- ‚úÖ –û–±–µ—Å–ø–µ—á–µ–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è

### 4. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**

- ‚úÖ –°–æ–∑–¥–∞–Ω –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ `findSynonyms()` –≤ `SemanticIndex`
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –û–±–µ—Å–ø–µ—á–µ–Ω–∞ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

- ‚ùå –°–º–µ—à–∏–≤–∞–Ω–∏–µ CommonJS –∏ ES6 –º–æ–¥—É–ª–µ–π
- ‚ùå –ñ–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (10+ —Ö–∞—Ä–¥–∫–æ–¥ —Å–ª—É—á–∞–µ–≤)
- ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `any` —Ç–∏–ø–æ–≤ (5+ —Å–ª—É—á–∞–µ–≤)
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

- ‚úÖ –ï–¥–∏–Ω–∞—è ES6 –º–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–∏–Ω–æ–Ω–∏–º–æ–≤
- ‚úÖ –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- ‚úÖ –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ DRY

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Best Practices

### ‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ES6 imports/exports
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### ‚úÖ **–¢–∏–ø–∏–∑–∞—Ü–∏—è**

- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `any` —Ç–∏–ø–æ–≤
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ **–ü—Ä–∏–Ω—Ü–∏–ø—ã SOLID**

- **S** - Single Responsibility: –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- **O** - Open/Closed: —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∑–∞–∫—Ä—ã—Ç–∞ –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **L** - Liskov Substitution: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- **I** - Interface Segregation: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- **D** - Dependency Inversion: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏

### ‚úÖ **–ü—Ä–∏–Ω—Ü–∏–ø—ã Clean Code**

- **DRY** - Don't Repeat Yourself: —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- **KISS** - Keep It Simple, Stupid: –ø—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **YAGNI** - You Aren't Gonna Need It: –Ω–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

- Tree-shaking —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:

- ‚úÖ –õ–∏–Ω—Ç–µ—Ä –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–æ–∫
- ‚úÖ TypeScript –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ESLint –ø—Ä–∞–≤–∏–ª–∞:**

   ```json
   {
     "rules": {
       "@typescript-eslint/no-require-imports": "error",
       "@typescript-eslint/no-explicit-any": "error",
       "@typescript-eslint/no-duplicate-imports": "error"
     }
   }
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Prettier –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏:**

   ```json
   {
     "singleQuote": true,
     "trailingComma": "es5",
     "tabWidth": 2
   }
   ```

3. **–î–æ–±–∞–≤–∏—Ç—å pre-commit —Ö—É–∫–∏:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript
   - –õ–∏–Ω—Ç–∏–Ω–≥ –∫–æ–¥–∞
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ö–æ–¥ —Ç–µ–ø–µ—Ä—å **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º Best Practices**:

- üéØ **ES6 –º–æ–¥—É–ª–∏** –≤–º–µ—Å—Ç–æ CommonJS
- üéØ **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è** –±–µ–∑ `any`
- üéØ **DRY –ø—Ä–∏–Ω—Ü–∏–ø** –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- üéØ **SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- üéØ **Clean Code** —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é!** üéâ
