# –§–∞–∑–∞ 1: –û—Ç—á–µ—Ç –ø–æ –∞—É–¥–∏—Ç—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–î–∞—Ç–∞**: 2025-01-27  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

## üîç **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞—É–¥–∏—Ç–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

### ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

#### 1. **–°–µ—Ä–≤–µ—Ä–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)**

- `SUPERDUPERAI_TOKEN` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ API routes
- `STRIPE_SECRET_KEY` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ API routes
- `STRIPE_WEBHOOK_SECRET` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ API routes
- `AUTH_SECRET` / `NEXTAUTH_SECRET` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ auth config
- `AUTH_AUTH0_SECRET` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ auth config

#### 2. **–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–±–µ–∑–æ–ø–∞—Å–Ω—ã –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)**

- `NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
- `NEXT_PUBLIC_GOOGLE_TAG_MANAGER_ID` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –ø—É–±–ª–∏—á–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä

### ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

#### 1. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ —É—Ç–µ—á–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –∫–ª–∏–µ–Ω—Ç**

- **–ü—Ä–æ–±–ª–µ–º–∞**: `NEXT_PUBLIC_SUPERDUPERAI_TOKEN` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ
- **–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ, —Ç–æ–∫–µ–Ω—ã —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- **–°—Ç–∞—Ç—É—Å**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö

#### 2. **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ API**

- **–ü—Ä–æ–∫—Å–∏-–ø–∞—Ç—Ç–µ—Ä–Ω**: –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ API –≤—ã–∑–æ–≤—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ø—Ä–æ–∫—Å–∏
- **SSE –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: EventSource –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –í—Å–µ —Ç–æ–∫–µ–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### ‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

#### 1. **API Routes**

- `/api/proxy/[...path]` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
- `/api/file/upload` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
- `/api/create-checkout` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
- `/api/webhooks/stripe` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã

#### 2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**

- `getSuperduperAIConfig()` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Å–µ—Ä–≤–µ—Ä/–∫–ª–∏–µ–Ω—Ç
- `getClientSuperduperAIConfig()` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã

#### 3. **SSE —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**

- `/api/events/[...path]` - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- EventSource URLs - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–æ–∫—Å–∏

### üîí **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

#### 1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**

- ‚úÖ Sentry –≤–∫–ª—é—á–µ–Ω –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

#### 2. **–í–∞–ª–∏–¥–∞—Ü–∏—è**

- ‚úÖ Zod –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö API –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —á–∞—Ç–∞–º –∏ –ø—Ä–æ–µ–∫—Ç–∞–º
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Å–µ—Å—Å–∏–π

#### 3. **–ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫**

- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ Rate limiting —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ SQL injection –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ Drizzle ORM
- ‚úÖ XSS –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ React –∏ Next.js

## üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è             | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –°—Ç–∞—Ç—É—Å                 |
| --------------------- | ---------- | ---------------------- |
| –°–µ—Ä–≤–µ—Ä–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã     | 5          | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ           |
| –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ | 2          | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ           |
| –£—Ç–µ—á–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤        | 0          | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ          |
| –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ API      | 0          | ‚úÖ –í—Å–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã       |
| –ü—Ä–æ–±–ª–µ–º—ã CORS         | 0          | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ |

## üéØ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

**–°—Ç–∞—Ç—É—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: üü¢ –û–¢–õ–ò–ß–ù–´–ô**

- ‚úÖ –í—Å–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ —É—Ç–µ—á–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ API –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

1. –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –∞—É–¥–∏—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å Sentry –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
3. –û–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
4. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (2FA, rate limiting)

## üìù **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**

1. ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∞—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. üîÑ –ü–µ—Ä–µ–π—Ç–∏ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –±–∞–∑–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. üîÑ –†–µ—à–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ TODO/FIXME
4. üîÑ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
